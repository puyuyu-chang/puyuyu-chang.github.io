<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ğŸ¥ºãƒã‚¦ãƒ³ãƒ‰</title>
  <style>
    body {
      background: #fffbe6;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    #game {
      position: relative;
      width: 400px;
      height: 400px;
      border: 5px solid black;
      background: #ffffdd;
      overflow: hidden;
    }
    #emoji {
      position: absolute;
      font-size: 64px;
      user-select: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="game">
    <div id="emoji">ğŸ¥º</div>
  </div>

  <script>
    const game = document.getElementById("game");
    const emoji = document.getElementById("emoji");

    // ã‚²ãƒ¼ãƒ é ˜åŸŸã®ã‚µã‚¤ã‚º
    const gameWidth = game.clientWidth;
    const gameHeight = game.clientHeight;

    // çµµæ–‡å­—ã®å¤§ãã•ã‚’å–å¾—
    let emojiSize = 64; // ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã«åˆã‚ã›ã¦ãŠãŠã‚ˆã
    let x = (gameWidth - emojiSize) / 2;
    let y = (gameHeight - emojiSize) / 2;
    let dx = 0; // ç§»å‹•æ–¹å‘X
    let dy = 0; // ç§»å‹•æ–¹å‘Y

    // åˆæœŸä½ç½®ã‚’ä¸­å¤®ã«è¨­å®š
    emoji.style.left = x + "px";
    emoji.style.top = y + "px";

    // ã‚¯ãƒªãƒƒã‚¯ã§ãƒ©ãƒ³ãƒ€ãƒ ãªè§’åº¦ã‚’è¨­å®š
    emoji.addEventListener("click", () => {
      const angle = Math.random() * 2 * Math.PI;
      const speed = 3; // ç§»å‹•é€Ÿåº¦
      dx = Math.cos(angle) * speed;
      dy = Math.sin(angle) * speed;
    });

    // ç§»å‹•å‡¦ç†
    function update() {
      x += dx;
      y += dy;

      // å£ã«å½“ãŸã£ãŸã‚‰è·³ã­è¿”ã‚‹
      if (x <= 0 || x + emojiSize >= gameWidth) {
        dx = -dx;
        x = Math.max(0, Math.min(x, gameWidth - emojiSize));
      }
      if (y <= 0 || y + emojiSize >= gameHeight) {
        dy = -dy;
        y = Math.max(0, Math.min(y, gameHeight - emojiSize));
      }

      emoji.style.left = x + "px";
      emoji.style.top = y + "px";

      requestAnimationFrame(update);
    }

    update();
  </script>
</body>
</html>
