<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>🥺バウンド</title>
  <style>
    body {
      background: #fffbe6;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    #game {
      position: relative;
      width: 400px;
      height: 400px;
      border: 5px solid black;
      background: #ffffdd;
      overflow: hidden;
    }
    #emoji {
      position: absolute;
      font-size: 64px;
      user-select: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="game">
    <div id="emoji">🥺</div>
  </div>

  <script>
    const game = document.getElementById("game");
    const emoji = document.getElementById("emoji");

    // ゲーム領域のサイズ
    const gameWidth = game.clientWidth;
    const gameHeight = game.clientHeight;

    // 絵文字の大きさを取得
    let emojiSize = 64; // フォントサイズに合わせておおよそ
    let x = (gameWidth - emojiSize) / 2;
    let y = (gameHeight - emojiSize) / 2;
    let dx = 0; // 移動方向X
    let dy = 0; // 移動方向Y

    // 初期位置を中央に設定
    emoji.style.left = x + "px";
    emoji.style.top = y + "px";

    // クリックでランダムな角度を設定
    emoji.addEventListener("click", () => {
      const angle = Math.random() * 2 * Math.PI;
      const speed = 3; // 移動速度
      dx = Math.cos(angle) * speed;
      dy = Math.sin(angle) * speed;
    });

    // 移動処理
    function update() {
      x += dx;
      y += dy;

      // 壁に当たったら跳ね返る
      if (x <= 0 || x + emojiSize >= gameWidth) {
        dx = -dx;
        x = Math.max(0, Math.min(x, gameWidth - emojiSize));
      }
      if (y <= 0 || y + emojiSize >= gameHeight) {
        dy = -dy;
        y = Math.max(0, Math.min(y, gameHeight - emojiSize));
      }

      emoji.style.left = x + "px";
      emoji.style.top = y + "px";

      requestAnimationFrame(update);
    }

    update();
  </script>
</body>
</html>
